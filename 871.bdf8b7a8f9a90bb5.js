"use strict";(self.webpackChunktevet_troc_client=self.webpackChunktevet_troc_client||[]).push([[871],{4871:(ct,N,d)=>{d.r(N),d.d(N,{C:()=>T});var T={};d.r(T),d.d(T,{default:()=>dt});var a=d(6282),b=d(8053),m=d(6960),t=d(4730),p=d(2939),O=d(1937),ge=d(8873);let B=(()=>{class n{rippleTimeoutId=null;_elementRef=(0,a.WQX)(t.aKT);styleText=(0,p.hFB)(O.kj.Small_1);buttonRole=(0,p.hFB)();text=(0,p.hFB)();ariaName=(0,p.hFB)("");ariaDesc=(0,p.hFB)("");disabled=(0,p.hFB)(!1);event=(0,p.CGW)();onClick(e){if(this.disabled())return e.preventDefault(),void e.stopPropagation();!(e.target instanceof HTMLButtonElement)&&!this.disabled()&&(this.addRipple(),this.event.emit())}buttonClick(e){this.onClick(e)}get isDisabled(){return this.disabled()?"disabled":null}get ariaDisabled(){return this.disabled()}addRipple(){if(this.disabled())return;null!==this.rippleTimeoutId&&(clearTimeout(this.rippleTimeoutId),this.rippleTimeoutId=null);const e=this._elementRef.nativeElement;e.classList.add("ripple"),this.rippleTimeoutId=window.setTimeout(()=>{e.classList.remove("ripple"),this.rippleTimeoutId=null},600)}ngOnDestroy(){null!==this.rippleTimeoutId&&(clearTimeout(this.rippleTimeoutId),this.rippleTimeoutId=null)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["lib-button"]],hostVars:2,hostBindings:function(i,o){1&i&&t.bIt("click",function(c){return o.onClick(c)}),2&i&&t.BMQ("disabled",o.isDisabled)("aria-disabled",o.ariaDisabled)},inputs:{styleText:[1,"styleText"],buttonRole:[1,"buttonRole"],text:[1,"text"],ariaName:[1,"ariaName"],ariaDesc:[1,"ariaDesc"],disabled:[1,"disabled"]},outputs:{event:"event"},features:[t.nM4([{directive:ge.C,inputs:["ariaName","ariaName","ariaDesc","ariaDesc"]}])],decls:3,vars:6,consts:[[3,"styleText"]],template:function(i,o){1&i&&(t.j41(0,"button")(1,"lib-text",0),t.EFF(2),t.k0s()()),2&i&&(t.BMQ("aria-label",o.ariaName())("aria-description",o.ariaDesc())("role",o.buttonRole())("aria-disabled",o.disabled()),t.R7$(),t.Y8G("styleText",o.styleText()),t.R7$(),t.SpI(" ",o.text()," "))},dependencies:[b.MD,m.l,m.N],styles:['[_nghost-%COMP%]{position:relative;margin:.25rem;display:inline-flex;max-width:max-content;align-items:center;justify-content:center;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1));padding:.75rem 1.5rem;font-size:1rem;line-height:1.5rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 48 163 / var(--tw-text-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(224 231 255 / var(--tw-text-opacity, 1))}}[_nghost-%COMP%]{transition:all .2s ease;position:relative;overflow:hidden;min-width:44px;min-height:44px}[_nghost-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background-color:currentColor;border-radius:50%;opacity:0;transform:translate(-50%,-50%);pointer-events:none;z-index:1}[_nghost-%COMP%]:focus-visible{outline-width:4px;outline-offset:4px;outline-color:#4f46e5;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity, 1))}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:focus-visible{outline-color:#a5b4fc;--tw-ring-opacity: 1;--tw-ring-color: rgb(165 180 252 / var(--tw-ring-opacity, 1))}}[_nghost-%COMP%]:focus-visible{box-shadow:0 0 0 4px #4f46e566}[_nghost-%COMP%]:hover{cursor:pointer;--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}}[_nghost-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 0 0 2.5px #4f46e566}[_nghost-%COMP%]:active{--tw-bg-opacity: 1;background-color:rgb(199 210 254 / var(--tw-bg-opacity, 1));--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:active{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}}[_nghost-%COMP%]:active{transform:translateY(1px)}.ripple[_nghost-%COMP%]:before{animation:_ngcontent-%COMP%_ripple-complete .6s cubic-bezier(.4,0,.2,1) forwards;opacity:.2}[aria-disabled=true][_nghost-%COMP%]{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1));opacity:.7}@media (prefers-color-scheme: dark){[aria-disabled=true][_nghost-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}}[aria-disabled=true][_nghost-%COMP%]:before{display:none}[aria-disabled=true][_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){[aria-disabled=true][_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1))}}[aria-disabled=true][_nghost-%COMP%]:hover{transform:none;box-shadow:none}@media (max-width: 768px){[_nghost-%COMP%]{padding:1rem 1.25rem;min-height:48px;min-width:48px}}@media (forced-colors: active){[_nghost-%COMP%]{border:3px solid ButtonText;background-color:ButtonFace;color:ButtonText}[_nghost-%COMP%]:focus-visible{outline:3px solid Highlight}}@keyframes _ngcontent-%COMP%_ripple-complete{0%{width:0;height:0;opacity:.2}to{width:500px;height:500px;opacity:0}}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{width:inherit;height:inherit;font-size:inherit;font-family:inherit;color:inherit;background:transparent;border:none;outline:none;padding:0;margin:0;cursor:inherit}:global(.js-focus-visible)   [_nghost-%COMP%]:focus:not(.focus-visible){outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}']})}return n})();var g=d(2658),L=d(2595),v=d(1427),j=d(2382),he=d(926),ue=d(6362),S=d(7986),V=d(846),W=d(4752),Q=d(7843),D=d(8760),u=d(9764),M=d(3078),X=d(9841);function fe(n,s){}class C{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext}let G=(()=>{class n extends v.lb{_elementRef=(0,a.WQX)(t.aKT);_focusTrapFactory=(0,a.WQX)(j.GX);_config;_interactivityChecker=(0,a.WQX)(j.Z7);_ngZone=(0,a.WQX)(t.SKi);_focusMonitor=(0,a.WQX)(he.FN);_renderer=(0,a.WQX)(t.sFG);_changeDetectorRef=(0,a.WQX)(p.gRc);_injector=(0,a.WQX)(a.zZn);_platform=(0,a.WQX)(ue.O);_document=(0,a.WQX)(a.qQL);_portalOutlet;_focusTrapped=new g.B;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=(0,a.WQX)(C,{optional:!0})||new C,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();const i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{l(),c(),e.removeAttribute("tabindex")},l=this._renderer.listen(e,"blur",o),c=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(e){this._isDestroyed||(0,t.mal)(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=(0,S.vc)(),l=this._elementRef.nativeElement;(!o||o===this._document.body||o===l||l.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,S.vc)();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,S.vc)()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(1&i&&t.GBs(v.I3,7),2&i){let l;t.mGM(l=t.lsd())&&(o._portalOutlet=l.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){2&i&&t.BMQ("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[t.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){1&i&&t.DNE(0,fe,0,0,"ng-template",0)},dependencies:[v.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return n})();class k{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new g.B;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(s,e){this.overlayRef=s,this.config=e,this.disableClose=e.disableClose,this.backdropClick=s.backdropClick(),this.keydownEvents=s.keydownEvents(),this.outsidePointerEvents=s.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===V._f&&!this.disableClose&&!(0,W.rp)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=s.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(s,e){if(this._canClose(s)){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(s),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(s="",e=""){return this.overlayRef.updateSize({width:s,height:e}),this}addPanelClass(s){return this.overlayRef.addPanelClass(s),this}removePanelClass(s){return this.overlayRef.removePanelClass(s),this}_canClose(s){const e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(s,e,this.componentInstance))}}const ve=new a.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(a.zZn);return()=>(0,u.gA)(n)}}),_e=new a.nKC("DialogData"),be=new a.nKC("DefaultDialogConfig");function Ce(n){const s=(0,a.vPA)(n),e=new t.bkB;return{valueSignal:s,get value(){return s()},change:e,ngOnDestroy(){e.complete()}}}let ye=(()=>{class n{_injector=(0,a.WQX)(a.zZn);_defaultOptions=(0,a.WQX)(be,{optional:!0});_parentDialog=(0,a.WQX)(n,{optional:!0,skipSelf:!0});_overlayContainer=(0,a.WQX)(u.Sf);_idGenerator=(0,a.WQX)(M.g);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new g.B;_afterOpenedAtThisLevel=new g.B;_ariaHiddenElements=new Map;_scrollStrategy=(0,a.WQX)(ve);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=(0,L.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.Z)(void 0)));constructor(){}open(e,i){(i={...this._defaultOptions||new C,...i}).id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),c=(0,u.Y$)(this._injector,l),r=new k(c,i),h=this._attachContainer(c,r,i);if(r.containerInstance=h,!this.openDialogs.length){const E=this._overlayContainer.getContainerElement();h._focusTrapped?h._focusTrapped.pipe((0,D.s)(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(E)}):this._hideNonDialogContentFromAssistiveTechnology(E)}return this._attachDialogContent(e,r,h,i),this.openDialogs.push(r),r.closed.subscribe(()=>this._removeOpenDialog(r,!0)),this.afterOpened.next(r),r}closeAll(){P(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){P(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),P(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new u.rR({positionStrategy:e.positionStrategy||(0,u.uA)().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){const l=o.injector||o.viewContainerRef?.injector,c=[{provide:C,useValue:o},{provide:k,useValue:i},{provide:u.yY,useValue:e}];let r;o.container?"function"==typeof o.container?r=o.container:(r=o.container.type,c.push(...o.container.providers(o))):r=G;const h=new v.A8(r,o.viewContainerRef,a.zZn.create({parent:l||this._injector,providers:c}));return e.attach(h).instance}_attachDialogContent(e,i,o,l){if(e instanceof t.C4Q){const c=this._createInjector(l,i,o,void 0);let r={$implicit:l.data,dialogRef:i};l.templateContext&&(r={...r,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),o.attachTemplatePortal(new v.VA(e,null,r,c))}else{const c=this._createInjector(l,i,o,this._injector),r=o.attachComponentPortal(new v.A8(e,l.viewContainerRef,c));i.componentRef=r,i.componentInstance=r.instance}}_createInjector(e,i,o,l){const c=e.injector||e.viewContainerRef?.injector,r=[{provide:_e,useValue:e.data},{provide:k,useValue:i}];return e.providers&&("function"==typeof e.providers?r.push(...e.providers(i,e,o)):r.push(...e.providers)),e.direction&&(!c||!c.get(X.dS,null,{optional:!0}))&&r.push({provide:X.dS,useValue:Ce(e.direction)}),a.zZn.create({parent:c||l,providers:r})}_removeOpenDialog(e,i){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,c)=>{l?c.setAttribute("aria-hidden",l):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){const l=i[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P(n,s){let e=n.length;for(;e--;)s(n[e])}var $=d(6303),z=d(8083),H=d(3427),y=d(3685),De=d(2494);function Ae(n,s){}class U{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration}const F="mdc-dialog--open",Y="mdc-dialog--opening",K="mdc-dialog--closing";let Z=(()=>{class n extends G{_animationStateChanged=new t.bkB;_animationsEnabled=!(0,z.Rc)();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?q(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?q(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(J,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Y,F)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(F),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(F),this._animationsEnabled?(this._hostElement.style.setProperty(J,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(K)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Y,K)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){2&i&&(t.Avn("id",o._config.id),t.BMQ("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),t.AVh("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[t.Vt3],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Ae,0,0,"ng-template",2),t.k0s()())},dependencies:[v.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return n})();const J="--mat-dialog-transition-duration";function q(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?(0,$.OE)(n.substring(0,n.length-2)):n.endsWith("s")?1e3*(0,$.OE)(n.substring(0,n.length-1)):"0"===n?0:null}var A=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(A||{});class x{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new g.B;_beforeClosed=new g.B;_result;_closeFallbackTimeout;_state=A.OPEN;_closeInteractionType;constructor(s,e,i){this._ref=s,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=s.id,s.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe((0,y.p)(o=>"opened"===o.state),(0,D.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,y.p)(o=>"closed"===o.state),(0,D.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),s.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,H.h)(this.backdropClick(),this.keydownEvents().pipe((0,y.p)(o=>o.keyCode===V._f&&!this.disableClose&&!(0,W.rp)(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),ee(this,"keydown"===o.type?"keyboard":"mouse"))})}close(s){const e=this._config.closePredicate;e&&!e(s,this._config,this.componentInstance)||(this._result=s,this._containerInstance._animationStateChanged.pipe((0,y.p)(i=>"closing"===i.state),(0,D.s)(1)).subscribe(i=>{this._beforeClosed.next(s),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=A.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(s){let e=this._ref.config.positionStrategy;return s&&(s.left||s.right)?s.left?e.left(s.left):e.right(s.right):e.centerHorizontally(),s&&(s.top||s.bottom)?s.top?e.top(s.top):e.bottom(s.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(s="",e=""){return this._ref.updateSize(s,e),this}addPanelClass(s){return this._ref.addPanelClass(s),this}removePanelClass(s){return this._ref.removePanelClass(s),this}getState(){return this._state}_finishDialogClose(){this._state=A.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ee(n,s,e){return n._closeInteractionType=s,n.close(e)}const te=new a.nKC("MatMdcDialogData"),Te=new a.nKC("mat-mdc-dialog-default-options"),Oe=new a.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(a.zZn);return()=>(0,u.gA)(n)}});let I=(()=>{class n{_defaultOptions=(0,a.WQX)(Te,{optional:!0});_scrollStrategy=(0,a.WQX)(Oe);_parentDialog=(0,a.WQX)(n,{optional:!0,skipSelf:!0});_idGenerator=(0,a.WQX)(M.g);_injector=(0,a.WQX)(a.zZn);_dialog=(0,a.WQX)(ye);_animationsDisabled=(0,z.Rc)();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new g.B;_afterOpenedAtThisLevel=new g.B;dialogConfigClass=U;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=(0,L.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.Z)(void 0)));constructor(){this._dialogRefConstructor=x,this._dialogContainerType=Z,this._dialogDataToken=te}open(e,i){let o;(i={...this._defaultOptions||new U,...i}).id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(e,{...i,positionStrategy:(0,u.uA)(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||"0"===i.enterAnimationDuration?.toLocaleString()||"0"===i.exitAnimationDuration?.toString(),container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:C,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(c,r,h)=>(o=new this._dialogRefConstructor(c,i,h),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:r.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentRef=l.componentRef,o.componentInstance=l.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ie=(()=>{class n{dialogRef=(0,a.WQX)(x,{optional:!0});_elementRef=(0,a.WQX)(t.aKT);_dialog=(0,a.WQX)(I);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=se(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){ee(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){1&i&&t.bIt("click",function(c){return o._onButtonClick(c)}),2&i&&t.BMQ("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[t.OA$]})}return n})(),ne=(()=>{class n{_dialogRef=(0,a.WQX)(x,{optional:!0});_elementRef=(0,a.WQX)(t.aKT);_dialog=(0,a.WQX)(I);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=se(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n})}return n})(),oe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[t.nM4([De.uv])]})}return n})(),ae=(()=>{class n extends ne{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){2&i&&t.AVh("mat-mdc-dialog-actions-align-start","start"===o.align)("mat-mdc-dialog-actions-align-center","center"===o.align)("mat-mdc-dialog-actions-align-end","end"===o.align)},inputs:{align:"align"},features:[t.Vt3]})}return n})();function se(n,s){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?s.find(i=>i.id===e.id):null}function Me(n,s){if(1&n&&(t.j41(0,"lib-text",2),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.data.title," ")}}function ke(n,s){if(1&n){const e=t.RV6();t.j41(0,"lib-button",9),t.bIt("event",function(){a.eBV(e);const o=t.XpG();return a.Njj(o.close())}),t.k0s()}}function Pe(n,s){1&n&&t.nrm(0,"lib-button",8)}function Fe(n,s){if(1&n&&(t.j41(0,"mat-dialog-content",10)(1,"lib-text"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.data.message)}}let Ie=(()=>{class n{data=(0,a.WQX)(te);dialogRef=(0,a.WQX)(x);close(){this.dialogRef.close(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["lib-dialog"]],decls:10,vars:4,consts:[["defaultMessage",""],[1,"p-2","gap-3","grid"],["styleText","Title_2",1,"text-center"],[3,"ngTemplateOutlet"],[1,"p-0"],[1,"row","justify-content-center"],[1,"col"],["text","Ok"],["mat-dialog-close","","text","Cancel"],["text","Ok",3,"event"],[2,"padding","0"]],template:function(i,o){if(1&i&&(t.j41(0,"div",1),t.nVh(1,Me,2,1,"lib-text",2),t.eu8(2,3),t.j41(3,"mat-dialog-actions",4)(4,"div",5)(5,"div",6),t.nVh(6,ke,1,0,"lib-button",7),t.nVh(7,Pe,1,0,"lib-button",8),t.k0s()()(),t.DNE(8,Fe,3,1,"ng-template",null,0,t.C5r),t.k0s()),2&i){const l=t.sdS(9);t.R7$(),t.vxM(o.data.title?1:-1),t.R7$(),t.Y8G("ngTemplateOutlet",o.data.templateRef||l),t.R7$(4),t.vxM(o.data.showOKBtn?6:-1),t.R7$(),t.vxM(o.data.showCancelBtn?7:-1)}},dependencies:[oe,ae,B,ie,b.T3,m.l],styles:[":host{display:block}:host .mat-mdc-dialog-surface{background-color:var(--app-bg-color);color:var(--app-text-color)}:host .mat-mdc-dialog-content{color:var(--app-text-color)}\n"],encapsulation:2,changeDetection:0})}return n})(),Re=(()=>{class n{dialogRef;dialog=(0,a.WQX)(I);openDialog(e,i){return this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialog.open(Ie,{width:"500px",data:e,...i}),this.dialogRef}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var le=d(2794),_=d(5461),Ee=d(4161);const Ne=new a.nKC("API_CONFIG_PERSON",{factory:()=>({baseUrl:(process.env.TEVET_API||"")+"/v1/person"})}),Be=new a.nKC("API_CONFIG_DEPARTMENT",{factory:()=>({baseUrl:(process.env.TEVET_API||"")+"/v1/department"})}),Le=new a.nKC("API_CONFIG_STAFF",{factory:()=>({baseUrl:(process.env.TEVET_API||"")+"/v1/staff"})}),je=new a.nKC("API_CONFIG_APPOINTMENT",{factory:()=>({baseUrl:(process.env.TEVET_API||"")+"/v1/appointment"})});var Ve=d(125),re=d(2149),f=d(5590),de=d(5829),w=d(6561),We=d(2035),ce=d(9065),Qe=d(6044),Xe=d(2469);let R=(()=>{class n{httpClient=(0,a.WQX)(Ee.Qq);meService=(0,a.WQX)(Xe.Q2);apiConfigPerson=(0,a.WQX)(Ne);apiConfigDepartment=(0,a.WQX)(Be);apiConfigStaff=(0,a.WQX)(Le);apiConfigAppointment=(0,a.WQX)(je);showCreateNewPatient=!1;permissionDirective=(0,a.WQX)(le.D);patientName=(0,a.vPA)("");selectedPatient=(0,a.vPA)(void 0);departmentSearch=(0,a.vPA)("");selectedDepartment=(0,a.vPA)(void 0);doctorSearch=(0,a.vPA)("");selectedDoctor=(0,a.vPA)(void 0);loading=(0,a.vPA)(!1);displayPerson=e=>`${e.first_name} ${e.last_name}`;displayDepartment=e=>`${e.description} `;displayDoctor=e=>`${e.last_name} ${e.first_name}`;notes=(0,a.vPA)(null);get permissionAppointmentCreateCode(){return O.Rd.APPOINTMENT_CREATE}get permissionPersonCreateCode(){return O.Rd.PERSON_CREATE}pageOffsetAppointments=(0,a.vPA)(0);perPageOffsetAppointments=(0,a.vPA)(10);triggeredGetAppointment=new g.B;loadingAppointments=(0,a.vPA)(!1);totalAppointments=0;pageOffset$=(0,_.br)(this.pageOffsetAppointments);perPageOffset$=(0,_.br)(this.perPageOffsetAppointments);combinedTrigger$=(0,H.h)((0,Ve.z)([this.pageOffset$,this.perPageOffset$]),this.triggeredGetAppointment).pipe((0,re.B)(0),(0,f.M)(()=>this.loadingAppointments.set(!0)),(0,de.n)(()=>this.httpClient.get(`${this.apiConfigAppointment.baseUrl}`,{params:{page:this.pageOffsetAppointments(),per_page:this.perPageOffsetAppointments(),filter:`hospital_id=${this.meService.meInfo?.attributes.hospital_id||""}`}}).pipe((0,f.M)(e=>{this.totalAppointments=e.message.pagination.total_items}),(0,w.T)(e=>e.message.data.map((i,o)=>({model:i,editable:!0,actions:[],id:o}))),(0,f.M)(()=>this.loadingAppointments.set(!1)))));getAppointment=(0,_.ot)(this.combinedTrigger$,{initialValue:[]});persons=(0,_.ot)((0,_.br)(this.patientName).pipe((0,f.M)(()=>this.loading.set(!0)),(0,re.B)(500),(0,We.F)(),(0,y.p)(e=>!!e),(0,de.n)(e=>this.httpClient.get(`${this.apiConfigPerson.baseUrl}`,{params:{field:"fts",value:e}}).pipe((0,f.M)(()=>this.loading.set(!1)))),(0,w.T)(e=>e.message.data)),{initialValue:[]});departments=(0,_.ot)(this.httpClient.get(`${this.apiConfigDepartment.baseUrl}`,{params:{value:this.meService.meInfo?.attributes.hospital_id||"",field:"hospital_id"}}).pipe((0,w.T)(e=>e.message.data)),{initialValue:[]});staff=(0,_.ot)(this.httpClient.get(`${this.apiConfigStaff.baseUrl}`,{params:{hospital_id:this.meService.meInfo?.attributes.hospital_id||"",field:"role",value:"doctor".toUpperCase()}}).pipe((0,w.T)(e=>e.message.data.map(([i,o])=>({...i,...o}))),(0,f.M)(console.log)),{initialValue:[]});postAppointment(){const e=this.selectedPatient(),i=this.selectedDepartment(),o=this.selectedDoctor();if(!e||!i||!o)return(0,ce.$)(()=>new Error("Missing required fields: patient, department, and doctor are required."));const l={hospital_name:"Singapore General Hospital",patient_name:e.first_name,doctor_name:o.first_name,notes:this.notes()??"",appointment_date:(new Date).toDateString(),reason:"Test",scheduled_by:"Test",appointment_type:"Test",status:"Scheduled"};return this.httpClient.post(`${this.apiConfigAppointment.baseUrl}`,l).pipe((0,Qe.W)(c=>(console.log(l),(0,ce.$)(()=>c))))}setNotes(e){this.notes.set(e.target.value)}changePageSize(e,i,o){o.set(e.pageSize),i.set(e.pageIndex)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();var pe=d(7666),Ge=d(5852);const $e=["optionTemplate"],ze=(n,s)=>({$implicit:n,index:s});function He(n,s){1&n&&t.EFF(0," Dropdown opened. ")}function Ue(n,s){1&n&&t.EFF(0," Dropdown closed. ")}function Ye(n,s){1&n&&(t.j41(0,"li",7),t.EFF(1," Loading... "),t.k0s())}function Ke(n,s){if(1&n&&(t.j41(0,"lib-text"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e," ")}}function Ze(n,s){if(1&n){const e=t.RV6();t.j41(0,"li",9)(1,"button",10),t.bIt("click",function(){const o=a.eBV(e).$implicit,l=t.XpG(3);return a.Njj(l.selectOption(o))}),t.DNE(2,Ke,2,1,"ng-template",null,1,t.C5r),t.eu8(4,11),t.k0s()()}if(2&n){const e=s.$implicit,i=s.$index,o=t.sdS(3),l=t.XpG(3);t.AVh("bg-gray-100",e===l.picked())("dark:bg-gray-700",e===l.picked()),t.BMQ("aria-selected",e===l.picked()),t.R7$(4),t.Y8G("ngTemplateOutlet",l.optionTemplateRef()||o)("ngTemplateOutletContext",t.l_i(7,ze,e,i))}}function Je(n,s){if(1&n&&t.Z7z(0,Ze,5,10,"li",8,t.Vm6),2&n){const e=t.XpG(2);t.Dyx(e.filteredOptions())}}function qe(n,s){1&n&&(t.j41(0,"li",7),t.EFF(1," No results found. "),t.k0s())}function et(n,s){if(1&n&&(t.j41(0,"ul",6,0)(2,"lib-jumbotron"),t.nVh(3,Ye,2,0,"li",7)(4,Je,2,0)(5,qe,2,0,"li",7),t.k0s()()),2&n){const e=t.XpG();t.R7$(3),t.vxM(e.isLoading()?3:e.filteredOptions().length>0?4:5)}}let tt=(()=>{class n{label=(0,p.hFB)("Select an option");options=(0,p.hFB)([]);picked=(0,p.geq)();inputValue=(0,p.geq)("");displayValue=(0,a.vPA)("");constructor(){(0,pe.QZ)(()=>{const e=this.inputValue()??"";this.displayValue.set(e)})}isLoading=(0,p.hFB)(!1);displayWith=(0,p.hFB)();isOpen=(0,a.vPA)(!1);optionTemplateRef=(0,p.sbv)("optionTemplate");filteredOptions=(0,pe.EW)(()=>this.isLoading()?["Loading..."]:(this.inputValue()?.toLowerCase(),this.options()??[]));onInput(e){const i=e.target.value;this.displayValue.set(i),this.inputValue.set(i),this.isOpen.set(i.trim().length>0)}selectOption(e){if("Loading..."===e)return;this.picked.set(e);const i=this.displayWith();this.displayValue.set(i?i(e):String(e)),this.isOpen.set(!1)}checkDropDownOpenAndOpen(){this.filteredOptions()?.length>0&&!this.isLoading()&&this.isOpen.set(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["lib-input-selectable"]],contentQueries:function(i,o,l){1&i&&t.C6U(l,o.optionTemplateRef,$e,5),2&i&&t.NyB()},inputs:{label:[1,"label"],options:[1,"options"],picked:[1,"picked"],inputValue:[1,"inputValue"],isLoading:[1,"isLoading"],displayWith:[1,"displayWith"]},outputs:{picked:"pickedChange",inputValue:"inputValueChange"},decls:8,vars:8,consts:[["dropdownList",""],["defaultOption",""],[1,"relative","inline-block","w-full"],["styleText","Small_1",3,"id"],["type","text","aria-controls","dropdown-list","role","combobox","aria-haspopup","listbox",1,"w-full","p-2","border","rounded-lg",3,"input","click","value"],["aria-live","polite","aria-atomic","true",1,"sr-only"],["role","listbox","tabindex","-1","id","dropdown-list",1,"flex","w-max","absolute","top-full","left-0","z-10"],["role","status",1,"px-4","py-2"],["role","option",1,"hover:bg-gray-100","hover:dark:bg-gray-600","hover:cursor-pointer","rounded-lg",3,"bg-gray-100","dark:bg-gray-700"],["role","option",1,"hover:bg-gray-100","hover:dark:bg-gray-600","hover:cursor-pointer","rounded-lg"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(t.j41(0,"div",2)(1,"lib-text",3),t.EFF(2),t.k0s(),t.j41(3,"input",4),t.bIt("input",function(c){return o.onInput(c)})("click",function(){return o.checkDropDownOpenAndOpen()}),t.k0s(),t.j41(4,"div",5),t.nVh(5,He,1,0)(6,Ue,1,0),t.k0s(),t.nVh(7,et,6,1,"ul",6),t.k0s()),2&i&&(t.R7$(),t.Y8G("id",t.VkB("input-label-",o.label())),t.R7$(),t.SpI(" ",o.label()," "),t.R7$(),t.Y8G("value",o.displayValue()),t.BMQ("aria-expanded",o.isOpen())("aria-label",o.label()),t.R7$(2),t.vxM(o.isOpen()?5:6),t.R7$(2),t.vxM(o.isOpen()?7:-1))},dependencies:[m.N,m.l,Ge._,b.T3],encapsulation:2,changeDetection:0})}return n})();function it(n,s){if(1&n&&(t.j41(0,"lib-text"),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.Lme(" ",e.first_name," ",e.last_name," ")}}function nt(n,s){1&n&&(t.j41(0,"lib-text"),t.EFF(1," Or "),t.j41(2,"a",15),t.EFF(3,"Register New Patient"),t.k0s()())}function ot(n,s){if(1&n&&(t.j41(0,"lib-text"),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.description," ")}}function at(n,s){if(1&n&&(t.j41(0,"lib-text"),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.last_name+" "+e.first_name," ")}}let st=(()=>{class n{appointmentService=(0,a.WQX)(R,{skipSelf:!0});static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["lib-schedule"]],decls:30,vars:12,consts:[["optionTemplate",""],[1,"p-2","gap-3","grid"],["content","Schedule New Appointment","styleText","Title_2","colorText","text-gray-800"],[1,"border-b","border-gray-200"],[1,"gap-1","grid"],["label","Patient Name",3,"inputValueChange","pickedChange","inputValue","picked","options","isLoading","displayWith"],["content","2. Doctor & Department","styleText","Medium_1","colorText","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["label","Department/Specialty",3,"pickedChange","picked","options","displayWith"],["label","Doctor/Provider",3,"pickedChange","picked","options","displayWith"],["content","3. Appointment Details","styleText","Medium_1","colorText","text-gray-700"],[1,"md:col-span-2"],["for","reason-for-visit",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["content","Reason for Visit","styleText","Small_1","colorText","text-gray-700"],["id","reason-for-visit","rows","3","placeholder","Briefly describe the reason for the appointment",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"input"],["href","#",1,"text-blue-600","hover:underline"]],template:function(i,o){if(1&i){const l=t.RV6();t.j41(0,"div",1)(1,"lib-text",2),t.EFF(2,"Schedule New Appointment "),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"lib-input-selectable",5),t.mxI("inputValueChange",function(r){return a.eBV(l),t.DH7(o.appointmentService.patientName,r)||(o.appointmentService.patientName=r),a.Njj(r)})("pickedChange",function(r){return a.eBV(l),t.DH7(o.appointmentService.selectedPatient,r)||(o.appointmentService.selectedPatient=r),a.Njj(r)}),t.DNE(6,it,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.nVh(8,nt,4,0,"lib-text"),t.k0s()(),t.j41(9,"div",3)(10,"lib-text",6),t.EFF(11,"2. Doctor & Department "),t.k0s(),t.j41(12,"div",7)(13,"div")(14,"lib-input-selectable",8),t.mxI("pickedChange",function(r){return a.eBV(l),t.DH7(o.appointmentService.selectedDepartment,r)||(o.appointmentService.selectedDepartment=r),a.Njj(r)}),t.DNE(15,ot,2,1,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(17,"div")(18,"lib-input-selectable",9),t.mxI("pickedChange",function(r){return a.eBV(l),t.DH7(o.appointmentService.selectedDoctor,r)||(o.appointmentService.selectedDoctor=r),a.Njj(r)}),t.DNE(19,at,2,1,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(21,"div",3)(22,"lib-text",10),t.EFF(23,"3. Appointment Details "),t.k0s(),t.j41(24,"div",7)(25,"div",11)(26,"label",12)(27,"lib-text",13),t.EFF(28,"Notes"),t.k0s()(),t.j41(29,"textarea",14),t.bIt("input",function(r){return a.eBV(l),a.Njj(o.appointmentService.setNotes(r))}),t.k0s()()()()()}2&i&&(t.R7$(5),t.R50("inputValue",o.appointmentService.patientName)("picked",o.appointmentService.selectedPatient),t.Y8G("options",o.appointmentService.persons())("isLoading",o.appointmentService.loading())("displayWith",o.appointmentService.displayPerson),t.R7$(3),t.vxM(o.appointmentService.permissionDirective.hasPermission(o.appointmentService.permissionAppointmentCreateCode)?8:-1),t.R7$(6),t.R50("picked",o.appointmentService.selectedDepartment),t.Y8G("options",o.appointmentService.departments())("displayWith",o.appointmentService.displayDepartment),t.R7$(4),t.R50("picked",o.appointmentService.selectedDoctor),t.Y8G("options",o.appointmentService.staff())("displayWith",o.appointmentService.displayDoctor))},dependencies:[b.MD,m.l,m.N,tt],styles:["[_ngcontent-%COMP%]:root{--mat-dialog-container-color: orange;--mat-dialog-subhead-color: red}"]})}return n})();var me=d(1732);function lt(n,s){if(1&n){const e=t.RV6();t.j41(0,"lib-button",10),t.bIt("event",function(){a.eBV(e);const o=t.XpG(),l=t.sdS(11);return a.Njj(o.addAppointment(l))}),t.k0s()}}function rt(n,s){1&n&&t.nrm(0,"lib-schedule")}let dt=(()=>{class n{dialogService=(0,a.WQX)(Re);appointmentService=(0,a.WQX)(R);addAppointment(e){this.dialogService.openDialog({templateRef:e,showOKBtn:!0,showCancelBtn:!0},{disableClose:!0}).afterClosed().subscribe(l=>{l?this.appointmentService.postAppointment().pipe((0,f.M)(()=>{this.appointmentService.patientName.set(""),this.appointmentService.selectedPatient.set(void 0),this.appointmentService.departmentSearch.set(""),this.appointmentService.selectedDepartment.set(void 0),this.appointmentService.doctorSearch.set(""),this.appointmentService.selectedDoctor.set(void 0),this.appointmentService.notes.set(null)}),(0,f.M)(()=>{this.appointmentService.triggeredGetAppointment.next()})).subscribe():console.log("User clicked Cancel")})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["lib-appointment"]],features:[t.Jv_([R,le.D])],decls:12,vars:7,consts:[["appointment",""],["styleText","Title_3","ariaDesc","Appointment section"],[1,"w-full","h-screen","flex","flex-col","gap-3"],[1,"sticky","top-0","z-10"],[1,"flex","flex-row-reverse"],["text","Add"],[1,"w-full","h-full","overflow-y-auto"],[3,"onPaginationChange","zebraColor","dataSource","pageIndex","pageSize","lengthPagination","showPagination"],["className","appointment-ic","field","appointment_ic","name","Appointment IC"],["className","notes","field","notes","name","Notes"],["text","Add",3,"event"]],template:function(i,o){if(1&i){const l=t.RV6();t.j41(0,"lib-text",1),t.EFF(1,"Appointment"),t.k0s(),t.j41(2,"section",2)(3,"div",3)(4,"div",4),t.nVh(5,lt,1,0,"lib-button",5),t.k0s()(),t.j41(6,"main",6)(7,"elix-table",7),t.bIt("onPaginationChange",function(r){return a.eBV(l),a.Njj(o.appointmentService.changePageSize(r,o.appointmentService.pageOffsetAppointments,o.appointmentService.perPageOffsetAppointments))}),t.nrm(8,"elix-column-text",8)(9,"elix-column-text",9),t.k0s()()(),t.DNE(10,rt,1,0,"ng-template",null,0,t.C5r)}2&i&&(t.R7$(5),t.vxM(o.appointmentService.permissionDirective.hasPermission(o.appointmentService.permissionAppointmentCreateCode)?5:-1),t.R7$(2),t.Y8G("zebraColor",!0)("dataSource",o.appointmentService.getAppointment())("pageIndex",o.appointmentService.pageOffsetAppointments())("pageSize",o.appointmentService.perPageOffsetAppointments())("lengthPagination",o.appointmentService.totalAppointments)("showPagination",!0))},dependencies:[b.MD,m.l,m.N,B,st,me.Or,me.Rt],encapsulation:2})}return n})()}}]);