"use strict";(self.webpackChunktevet_troc_client=self.webpackChunktevet_troc_client||[]).push([[746],{9746:(le,N,d)=>{d.r(N),d.d(N,{C:()=>x});var x={};d.r(x),d.d(x,{default:()=>se});var a=d(4892),_=d(6534),m=d(6377),e=d(3149),p=d(4480),T=d(3285),dt=d(6937);let B=(()=>{class n{rippleTimeoutId=null;_elementRef=(0,a.WQX)(e.aKT);styleText=(0,p.hFB)(T.kj.Small_1);buttonRole=(0,p.hFB)();text=(0,p.hFB)();ariaName=(0,p.hFB)("");ariaDesc=(0,p.hFB)("");disabled=(0,p.hFB)(!1);event=(0,p.CGW)();onClick(t){if(this.disabled())return t.preventDefault(),void t.stopPropagation();!(t.target instanceof HTMLButtonElement)&&!this.disabled()&&(this.addRipple(),this.event.emit())}buttonClick(t){this.onClick(t)}get isDisabled(){return this.disabled()?"disabled":null}get ariaDisabled(){return this.disabled()}addRipple(){if(this.disabled())return;null!==this.rippleTimeoutId&&(clearTimeout(this.rippleTimeoutId),this.rippleTimeoutId=null);const t=this._elementRef.nativeElement;t.classList.add("ripple"),this.rippleTimeoutId=window.setTimeout(()=>{t.classList.remove("ripple"),this.rippleTimeoutId=null},600)}ngOnDestroy(){null!==this.rippleTimeoutId&&(clearTimeout(this.rippleTimeoutId),this.rippleTimeoutId=null)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["lib-button"]],hostVars:2,hostBindings:function(i,o){1&i&&e.bIt("click",function(c){return o.onClick(c)}),2&i&&e.BMQ("disabled",o.isDisabled)("aria-disabled",o.ariaDisabled)},inputs:{styleText:[1,"styleText"],buttonRole:[1,"buttonRole"],text:[1,"text"],ariaName:[1,"ariaName"],ariaDesc:[1,"ariaDesc"],disabled:[1,"disabled"]},outputs:{event:"event"},features:[e.nM4([{directive:dt.C,inputs:["ariaName","ariaName","ariaDesc","ariaDesc"]}])],decls:3,vars:6,consts:[[3,"styleText"]],template:function(i,o){1&i&&(e.j41(0,"button")(1,"lib-text",0),e.EFF(2),e.k0s()()),2&i&&(e.BMQ("aria-label",o.ariaName())("aria-description",o.ariaDesc())("role",o.buttonRole())("aria-disabled",o.disabled()),e.R7$(),e.Y8G("styleText",o.styleText()),e.R7$(),e.SpI(" ",o.text()," "))},dependencies:[_.MD,m.l,m.N],styles:['[_nghost-%COMP%]{position:relative;margin:.25rem;display:inline-flex;max-width:max-content;align-items:center;justify-content:center;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1));padding:.75rem 1.5rem;font-size:1rem;line-height:1.5rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 48 163 / var(--tw-text-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(224 231 255 / var(--tw-text-opacity, 1))}}[_nghost-%COMP%]{transition:all .2s ease;position:relative;overflow:hidden;min-width:44px;min-height:44px}[_nghost-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background-color:currentColor;border-radius:50%;opacity:0;transform:translate(-50%,-50%);pointer-events:none;z-index:1}[_nghost-%COMP%]:focus-visible{outline-width:4px;outline-offset:4px;outline-color:#4f46e5;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity, 1))}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:focus-visible{outline-color:#a5b4fc;--tw-ring-opacity: 1;--tw-ring-color: rgb(165 180 252 / var(--tw-ring-opacity, 1))}}[_nghost-%COMP%]:focus-visible{box-shadow:0 0 0 4px #4f46e566}[_nghost-%COMP%]:hover{cursor:pointer;--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}}[_nghost-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 0 0 2.5px #4f46e566}[_nghost-%COMP%]:active{--tw-bg-opacity: 1;background-color:rgb(199 210 254 / var(--tw-bg-opacity, 1));--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){[_nghost-%COMP%]:active{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}}[_nghost-%COMP%]:active{transform:translateY(1px)}.ripple[_nghost-%COMP%]:before{animation:_ngcontent-%COMP%_ripple-complete .6s cubic-bezier(.4,0,.2,1) forwards;opacity:.2}[aria-disabled=true][_nghost-%COMP%]{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1));opacity:.7}@media (prefers-color-scheme: dark){[aria-disabled=true][_nghost-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}}[aria-disabled=true][_nghost-%COMP%]:before{display:none}[aria-disabled=true][_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){[aria-disabled=true][_nghost-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1))}}[aria-disabled=true][_nghost-%COMP%]:hover{transform:none;box-shadow:none}@media (max-width: 768px){[_nghost-%COMP%]{padding:1rem 1.25rem;min-height:48px;min-width:48px}}@media (forced-colors: active){[_nghost-%COMP%]{border:3px solid ButtonText;background-color:ButtonFace;color:ButtonText}[_nghost-%COMP%]:focus-visible{outline:3px solid Highlight}}@keyframes _ngcontent-%COMP%_ripple-complete{0%{width:0;height:0;opacity:.2}to{width:500px;height:500px;opacity:0}}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{width:inherit;height:inherit;font-size:inherit;font-family:inherit;color:inherit;background:transparent;border:none;outline:none;padding:0;margin:0;cursor:inherit}:global(.js-focus-visible)   [_nghost-%COMP%]:focus:not(.focus-visible){outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}']})}return n})();var u=d(5398),L=d(9032),f=d(3744),j=d(2959),ct=d(3975),pt=d(8107),A=d(6713),V=d(9695),W=d(1775),Q=d(826),y=d(659),g=d(9172),O=d(2197),X=d(2914);function mt(n,s){}class b{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext}let G=(()=>{class n extends f.lb{_elementRef=(0,a.WQX)(e.aKT);_focusTrapFactory=(0,a.WQX)(j.GX);_config;_interactivityChecker=(0,a.WQX)(j.Z7);_ngZone=(0,a.WQX)(e.SKi);_focusMonitor=(0,a.WQX)(ct.FN);_renderer=(0,a.WQX)(e.sFG);_changeDetectorRef=(0,a.WQX)(p.gRc);_injector=(0,a.WQX)(a.zZn);_platform=(0,a.WQX)(pt.O);_document=(0,a.WQX)(a.qQL);_portalOutlet;_focusTrapped=new u.B;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=(0,a.WQX)(b,{optional:!0})||new b,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}attachDomPortal=t=>{this._portalOutlet.hasAttached();const i=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{l(),c(),t.removeAttribute("tabindex")},l=this._renderer.listen(t,"blur",o),c=this._renderer.listen(t,"mousedown",o)})),t.focus(i)}_focusByCssSelector(t,i){let o=this._elementRef.nativeElement.querySelector(t);o&&this._forceFocus(o,i)}_trapFocus(t){this._isDestroyed||(0,e.mal)(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=(0,A.vc)(),l=this._elementRef.nativeElement;(!o||o===this._document.body||o===l||l.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,A.vc)();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,A.vc)()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(1&i&&e.GBs(f.I3,7),2&i){let l;e.mGM(l=e.lsd())&&(o._portalOutlet=l.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){2&i&&e.BMQ("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[e.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){1&i&&e.DNE(0,mt,0,0,"ng-template",0)},dependencies:[f.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return n})();class M{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new u.B;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(s,t){this.overlayRef=s,this.config=t,this.disableClose=t.disableClose,this.backdropClick=s.backdropClick(),this.keydownEvents=s.keydownEvents(),this.outsidePointerEvents=s.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===V._f&&!this.disableClose&&!(0,W.rp)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=s.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(s,t){if(this._canClose(s)){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(s),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(s="",t=""){return this.overlayRef.updateSize({width:s,height:t}),this}addPanelClass(s){return this.overlayRef.addPanelClass(s),this}removePanelClass(s){return this.overlayRef.removePanelClass(s),this}_canClose(s){const t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(s,t,this.componentInstance))}}const ht=new a.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(a.zZn);return()=>(0,g.gA)(n)}}),ut=new a.nKC("DialogData"),gt=new a.nKC("DefaultDialogConfig");function ft(n){const s=(0,a.vPA)(n),t=new e.bkB;return{valueSignal:s,get value(){return s()},change:t,ngOnDestroy(){t.complete()}}}let _t=(()=>{class n{_injector=(0,a.WQX)(a.zZn);_defaultOptions=(0,a.WQX)(gt,{optional:!0});_parentDialog=(0,a.WQX)(n,{optional:!0,skipSelf:!0});_overlayContainer=(0,a.WQX)(g.Sf);_idGenerator=(0,a.WQX)(O.g);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new u.B;_afterOpenedAtThisLevel=new u.B;_ariaHiddenElements=new Map;_scrollStrategy=(0,a.WQX)(ht);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=(0,L.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.Z)(void 0)));constructor(){}open(t,i){(i={...this._defaultOptions||new b,...i}).id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),c=(0,g.Y$)(this._injector,l),r=new M(c,i),h=this._attachContainer(c,r,i);if(r.containerInstance=h,!this.openDialogs.length){const E=this._overlayContainer.getContainerElement();h._focusTrapped?h._focusTrapped.pipe((0,y.s)(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(E)}):this._hideNonDialogContentFromAssistiveTechnology(E)}return this._attachDialogContent(t,r,h,i),this.openDialogs.push(r),r.closed.subscribe(()=>this._removeOpenDialog(r,!0)),this.afterOpened.next(r),r}closeAll(){S(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){S(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),S(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new g.rR({positionStrategy:t.positionStrategy||(0,g.uA)().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,o){const l=o.injector||o.viewContainerRef?.injector,c=[{provide:b,useValue:o},{provide:M,useValue:i},{provide:g.yY,useValue:t}];let r;o.container?"function"==typeof o.container?r=o.container:(r=o.container.type,c.push(...o.container.providers(o))):r=G;const h=new f.A8(r,o.viewContainerRef,a.zZn.create({parent:l||this._injector,providers:c}));return t.attach(h).instance}_attachDialogContent(t,i,o,l){if(t instanceof e.C4Q){const c=this._createInjector(l,i,o,void 0);let r={$implicit:l.data,dialogRef:i};l.templateContext&&(r={...r,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),o.attachTemplatePortal(new f.VA(t,null,r,c))}else{const c=this._createInjector(l,i,o,this._injector),r=o.attachComponentPortal(new f.A8(t,l.viewContainerRef,c));i.componentRef=r,i.componentInstance=r.instance}}_createInjector(t,i,o,l){const c=t.injector||t.viewContainerRef?.injector,r=[{provide:ut,useValue:t.data},{provide:M,useValue:i}];return t.providers&&("function"==typeof t.providers?r.push(...t.providers(i,t,o)):r.push(...t.providers)),t.direction&&(!c||!c.get(X.dS,null,{optional:!0}))&&r.push({provide:X.dS,useValue:ft(t.direction)}),a.zZn.create({parent:c||l,providers:r})}_removeOpenDialog(t,i){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,c)=>{l?c.setAttribute("aria-hidden",l):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){const i=t.parentElement.children;for(let o=i.length-1;o>-1;o--){const l=i[o];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S(n,s){let t=n.length;for(;t--;)s(n[t])}var $=d(4738),z=d(3868),bt=d(8348),v=d(818),vt=d(1031);function yt(n,s){}class H{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration}const k="mdc-dialog--open",U="mdc-dialog--opening",K="mdc-dialog--closing";let Y=(()=>{class n extends G{_animationStateChanged=new e.bkB;_animationsEnabled=!(0,z.Rc)();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?J(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?J(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Z,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(U,k)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(k),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(k),this._animationsEnabled?(this._hostElement.style.setProperty(Z,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(K)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(U,K)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){2&i&&(e.Avn("id",o._config.id),e.BMQ("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),e.AVh("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[e.Vt3],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,yt,0,0,"ng-template",2),e.k0s()())},dependencies:[f.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return n})();const Z="--mat-dialog-transition-duration";function J(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?(0,$.OE)(n.substring(0,n.length-2)):n.endsWith("s")?1e3*(0,$.OE)(n.substring(0,n.length-1)):"0"===n?0:null}var C=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(C||{});class D{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new u.B;_beforeClosed=new u.B;_result;_closeFallbackTimeout;_state=C.OPEN;_closeInteractionType;constructor(s,t,i){this._ref=s,this._config=t,this._containerInstance=i,this.disableClose=t.disableClose,this.id=s.id,s.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe((0,v.p)(o=>"opened"===o.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,v.p)(o=>"closed"===o.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),s.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,bt.h)(this.backdropClick(),this.keydownEvents().pipe((0,v.p)(o=>o.keyCode===V._f&&!this.disableClose&&!(0,W.rp)(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),q(this,"keydown"===o.type?"keyboard":"mouse"))})}close(s){const t=this._config.closePredicate;t&&!t(s,this._config,this.componentInstance)||(this._result=s,this._containerInstance._animationStateChanged.pipe((0,v.p)(i=>"closing"===i.state),(0,y.s)(1)).subscribe(i=>{this._beforeClosed.next(s),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=C.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(s){let t=this._ref.config.positionStrategy;return s&&(s.left||s.right)?s.left?t.left(s.left):t.right(s.right):t.centerHorizontally(),s&&(s.top||s.bottom)?s.top?t.top(s.top):t.bottom(s.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(s="",t=""){return this._ref.updateSize(s,t),this}addPanelClass(s){return this._ref.addPanelClass(s),this}removePanelClass(s){return this._ref.removePanelClass(s),this}getState(){return this._state}_finishDialogClose(){this._state=C.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function q(n,s,t){return n._closeInteractionType=s,n.close(t)}const tt=new a.nKC("MatMdcDialogData"),wt=new a.nKC("mat-mdc-dialog-default-options"),xt=new a.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(a.zZn);return()=>(0,g.gA)(n)}});let F=(()=>{class n{_defaultOptions=(0,a.WQX)(wt,{optional:!0});_scrollStrategy=(0,a.WQX)(xt);_parentDialog=(0,a.WQX)(n,{optional:!0,skipSelf:!0});_idGenerator=(0,a.WQX)(O.g);_injector=(0,a.WQX)(a.zZn);_dialog=(0,a.WQX)(_t);_animationsDisabled=(0,z.Rc)();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new u.B;_afterOpenedAtThisLevel=new u.B;dialogConfigClass=H;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=(0,L.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.Z)(void 0)));constructor(){this._dialogRefConstructor=D,this._dialogContainerType=Y,this._dialogDataToken=tt}open(t,i){let o;(i={...this._defaultOptions||new H,...i}).id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(t,{...i,positionStrategy:(0,g.uA)(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||"0"===i.enterAnimationDuration?.toLocaleString()||"0"===i.exitAnimationDuration?.toString(),container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:b,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(c,r,h)=>(o=new this._dialogRefConstructor(c,i,h),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:r.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentRef=l.componentRef,o.componentInstance=l.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),et=(()=>{class n{dialogRef=(0,a.WQX)(D,{optional:!0});_elementRef=(0,a.WQX)(e.aKT);_dialog=(0,a.WQX)(F);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=at(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){q(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){1&i&&e.bIt("click",function(c){return o._onButtonClick(c)}),2&i&&e.BMQ("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[e.OA$]})}return n})(),it=(()=>{class n{_dialogRef=(0,a.WQX)(D,{optional:!0});_elementRef=(0,a.WQX)(e.aKT);_dialog=(0,a.WQX)(F);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=at(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n})}return n})(),nt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[e.nM4([vt.uv])]})}return n})(),ot=(()=>{class n extends it{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){2&i&&e.AVh("mat-mdc-dialog-actions-align-start","start"===o.align)("mat-mdc-dialog-actions-align-center","center"===o.align)("mat-mdc-dialog-actions-align-end","end"===o.align)},inputs:{align:"align"},features:[e.Vt3]})}return n})();function at(n,s){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?s.find(i=>i.id===t.id):null}function At(n,s){if(1&n&&(e.j41(0,"lib-text",2),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",t.data.title," ")}}function Ot(n,s){if(1&n){const t=e.RV6();e.j41(0,"lib-button",9),e.bIt("event",function(){a.eBV(t);const o=e.XpG();return a.Njj(o.close())}),e.k0s()}}function Mt(n,s){1&n&&e.nrm(0,"lib-button",8)}function St(n,s){if(1&n&&(e.j41(0,"mat-dialog-content",10)(1,"lib-text"),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.JRh(t.data.message)}}let kt=(()=>{class n{data=(0,a.WQX)(tt);dialogRef=(0,a.WQX)(D);close(){this.dialogRef.close(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["lib-dialog"]],decls:10,vars:4,consts:[["defaultMessage",""],[1,"p-2","gap-3","grid"],["styleText","Title_2",1,"text-center"],[3,"ngTemplateOutlet"],[1,"p-0"],[1,"row","justify-content-center"],[1,"col"],["text","Ok"],["mat-dialog-close","","text","Cancel"],["text","Ok",3,"event"],[2,"padding","0"]],template:function(i,o){if(1&i&&(e.j41(0,"div",1),e.nVh(1,At,2,1,"lib-text",2),e.eu8(2,3),e.j41(3,"mat-dialog-actions",4)(4,"div",5)(5,"div",6),e.nVh(6,Ot,1,0,"lib-button",7),e.nVh(7,Mt,1,0,"lib-button",8),e.k0s()()(),e.DNE(8,St,3,1,"ng-template",null,0,e.C5r),e.k0s()),2&i){const l=e.sdS(9);e.R7$(),e.vxM(o.data.title?1:-1),e.R7$(),e.Y8G("ngTemplateOutlet",o.data.templateRef||l),e.R7$(4),e.vxM(o.data.showOKBtn?6:-1),e.R7$(),e.vxM(o.data.showCancelBtn?7:-1)}},dependencies:[nt,ot,B,et,_.T3,m.l],styles:[":host{display:block}:host .mat-mdc-dialog-surface{background-color:var(--app-bg-color);color:var(--app-text-color)}:host .mat-mdc-dialog-content{color:var(--app-text-color)}\n"],encapsulation:2,changeDetection:0})}return n})(),Ft=(()=>{class n{dialogRef;dialog=(0,a.WQX)(F);openDialog(t,i){return this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialog.open(kt,{width:"500px",data:t,...i}),this.dialogRef}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var st=d(75),w=d(9198),It=d(9896);const Pt=new a.nKC("API_CONFIG_PERSON",{factory:()=>({baseUrl:"https://hospital-miyw4q.fly.dev/v1/person"})}),Rt=new a.nKC("API_CONFIG_DEPARTMENT",{factory:()=>({baseUrl:"https://hospital-miyw4q.fly.dev/v1/department"})}),Et=new a.nKC("API_CONFIG_STAFF",{factory:()=>({baseUrl:"https://hospital-miyw4q.fly.dev/v1/staff"})}),Nt=new a.nKC("API_CONFIG_APPOINTMENT",{factory:()=>({baseUrl:"https://hospital-miyw4q.fly.dev/v1/appointment"})});var I=d(79),Bt=d(4366),Lt=d(5104),jt=d(4780),P=d(1356),lt=d(1476),Vt=d(7083);let R=(()=>{class n{httpClient=(0,a.WQX)(It.Qq);apiConfigPerson=(0,a.WQX)(Pt);apiConfigDepartment=(0,a.WQX)(Rt);apiConfigStaff=(0,a.WQX)(Et);apiConfigAppointment=(0,a.WQX)(Nt);showCreateNewPatient=!1;permissionDirective=(0,a.WQX)(st.D);patientName=(0,a.vPA)("");selectedPatient=(0,a.vPA)(void 0);departmentSearch=(0,a.vPA)("");selectedDepartment=(0,a.vPA)(void 0);doctorSearch=(0,a.vPA)("");selectedDoctor=(0,a.vPA)(void 0);loading=(0,a.vPA)(!1);displayPerson=t=>`${t.first_name} ${t.last_name}`;displayDepartment=t=>`${t.description} `;displayDoctor=t=>`${t.last_name} ${t.first_name}`;notes=(0,a.vPA)(null);get permissionAppointmentCreateCode(){return T.Rd.APPOINTMENT_CREATE}get permissionPersonCreateCode(){return T.Rd.PERSON_CREATE}persons=(0,w.ot)((0,w.br)(this.patientName).pipe((0,I.M)(()=>this.loading.set(!0)),(0,Bt.B)(500),(0,Lt.F)(),(0,v.p)(t=>!!t),(0,jt.n)(t=>this.httpClient.get(`${this.apiConfigPerson.baseUrl}`,{params:{field:"fts",value:t}}).pipe((0,I.M)(()=>this.loading.set(!1)))),(0,P.T)(t=>t.message.data)),{initialValue:[]});departments=(0,w.ot)(this.httpClient.get(`${this.apiConfigDepartment.baseUrl}`,{params:{value:"d7051eea-7698-415f-b5ce-7c15e71cc17b",field:"hospital_id"}}).pipe((0,P.T)(t=>t.message.data)),{initialValue:[]});staff=(0,w.ot)(this.httpClient.get(`${this.apiConfigStaff.baseUrl}`,{params:{hospital_id:"d7051eea-7698-415f-b5ce-7c15e71cc17b",field:"role",value:"doctor".toUpperCase()}}).pipe((0,P.T)(t=>t.message.data.map(([i,o])=>({...i,...o}))),(0,I.M)(console.log)),{initialValue:[]});postAppointment(){const t=this.selectedPatient(),i=this.selectedDepartment(),o=this.selectedDoctor();if(!t||!i||!o)return(0,lt.$)(()=>new Error("Missing required fields: patient, department, and doctor are required."));const l={hospital_name:"Singapore General Hospital",patient_name:t.first_name,doctor_name:o.first_name,notes:this.notes()??"",appointment_date:(new Date).toDateString(),reason:"Test",scheduled_by:"Test",appointment_type:"Test",status:"Scheduled"};return this.httpClient.post(`${this.apiConfigAppointment.baseUrl}`,l).pipe((0,Vt.W)(c=>(console.log(l),(0,lt.$)(()=>c))))}setNotes(t){this.notes.set(t.target.value)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();var rt=d(8334),Wt=d(8557);const Qt=["optionTemplate"],Xt=(n,s)=>({$implicit:n,index:s});function Gt(n,s){1&n&&e.EFF(0," Dropdown opened. ")}function $t(n,s){1&n&&e.EFF(0," Dropdown closed. ")}function zt(n,s){1&n&&(e.j41(0,"li",7),e.EFF(1," Loading... "),e.k0s())}function Ht(n,s){if(1&n&&(e.j41(0,"lib-text"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t," ")}}function Ut(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",9)(1,"button",10),e.bIt("click",function(){const o=a.eBV(t).$implicit,l=e.XpG(3);return a.Njj(l.selectOption(o))}),e.DNE(2,Ht,2,1,"ng-template",null,1,e.C5r),e.eu8(4,11),e.k0s()()}if(2&n){const t=s.$implicit,i=s.$index,o=e.sdS(3),l=e.XpG(3);e.AVh("bg-gray-100",t===l.picked())("dark:bg-gray-700",t===l.picked()),e.BMQ("aria-selected",t===l.picked()),e.R7$(4),e.Y8G("ngTemplateOutlet",l.optionTemplateRef()||o)("ngTemplateOutletContext",e.l_i(7,Xt,t,i))}}function Kt(n,s){if(1&n&&e.Z7z(0,Ut,5,10,"li",8,e.Vm6),2&n){const t=e.XpG(2);e.Dyx(t.filteredOptions())}}function Yt(n,s){1&n&&(e.j41(0,"li",7),e.EFF(1," No results found. "),e.k0s())}function Zt(n,s){if(1&n&&(e.j41(0,"ul",6,0)(2,"lib-jumbotron"),e.nVh(3,zt,2,0,"li",7)(4,Kt,2,0)(5,Yt,2,0,"li",7),e.k0s()()),2&n){const t=e.XpG();e.R7$(3),e.vxM(t.isLoading()?3:t.filteredOptions().length>0?4:5)}}let Jt=(()=>{class n{label=(0,p.hFB)("Select an option");options=(0,p.hFB)([]);picked=(0,p.geq)();inputValue=(0,p.geq)("");displayValue=(0,a.vPA)("");constructor(){(0,rt.QZ)(()=>{const t=this.inputValue()??"";this.displayValue.set(t)})}isLoading=(0,p.hFB)(!1);displayWith=(0,p.hFB)();isOpen=(0,a.vPA)(!1);optionTemplateRef=(0,p.sbv)("optionTemplate");filteredOptions=(0,rt.EW)(()=>this.isLoading()?["Loading..."]:(this.inputValue()?.toLowerCase(),this.options()??[]));onInput(t){const i=t.target.value;this.displayValue.set(i),this.inputValue.set(i),this.isOpen.set(i.trim().length>0)}selectOption(t){if("Loading..."===t)return;this.picked.set(t);const i=this.displayWith();this.displayValue.set(i?i(t):String(t)),this.isOpen.set(!1)}checkDropDownOpenAndOpen(){this.filteredOptions()?.length>0&&!this.isLoading()&&this.isOpen.set(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["lib-input-selectable"]],contentQueries:function(i,o,l){1&i&&e.C6U(l,o.optionTemplateRef,Qt,5),2&i&&e.NyB()},inputs:{label:[1,"label"],options:[1,"options"],picked:[1,"picked"],inputValue:[1,"inputValue"],isLoading:[1,"isLoading"],displayWith:[1,"displayWith"]},outputs:{picked:"pickedChange",inputValue:"inputValueChange"},decls:8,vars:8,consts:[["dropdownList",""],["defaultOption",""],[1,"relative","inline-block","w-full"],["styleText","Small_1",3,"id"],["type","text","aria-controls","dropdown-list","role","combobox","aria-haspopup","listbox",1,"w-full","p-2","border","rounded-lg",3,"input","click","value"],["aria-live","polite","aria-atomic","true",1,"sr-only"],["role","listbox","tabindex","-1","id","dropdown-list",1,"flex","w-max","absolute","top-full","left-0","z-10"],["role","status",1,"px-4","py-2"],["role","option",1,"hover:bg-gray-100","hover:dark:bg-gray-600","hover:cursor-pointer","rounded-lg",3,"bg-gray-100","dark:bg-gray-700"],["role","option",1,"hover:bg-gray-100","hover:dark:bg-gray-600","hover:cursor-pointer","rounded-lg"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(e.j41(0,"div",2)(1,"lib-text",3),e.EFF(2),e.k0s(),e.j41(3,"input",4),e.bIt("input",function(c){return o.onInput(c)})("click",function(){return o.checkDropDownOpenAndOpen()}),e.k0s(),e.j41(4,"div",5),e.nVh(5,Gt,1,0)(6,$t,1,0),e.k0s(),e.nVh(7,Zt,6,1,"ul",6),e.k0s()),2&i&&(e.R7$(),e.Y8G("id",e.VkB("input-label-",o.label())),e.R7$(),e.SpI(" ",o.label()," "),e.R7$(),e.Y8G("value",o.displayValue()),e.BMQ("aria-expanded",o.isOpen())("aria-label",o.label()),e.R7$(2),e.vxM(o.isOpen()?5:6),e.R7$(2),e.vxM(o.isOpen()?7:-1))},dependencies:[m.N,m.l,Wt._,_.T3],encapsulation:2,changeDetection:0})}return n})();function qt(n,s){if(1&n&&(e.j41(0,"lib-text"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.Lme(" ",t.first_name," ",t.last_name," ")}}function te(n,s){1&n&&(e.j41(0,"lib-text"),e.EFF(1," Or "),e.j41(2,"a",15),e.EFF(3,"Register New Patient"),e.k0s()())}function ee(n,s){if(1&n&&(e.j41(0,"lib-text"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function ie(n,s){if(1&n&&(e.j41(0,"lib-text"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.SpI(" ",t.last_name+" "+t.first_name," ")}}let ne=(()=>{class n{appointmentService=(0,a.WQX)(R,{skipSelf:!0});ngOnDestroy(){this.appointmentService.patientName.set(""),this.appointmentService.selectedPatient.set(void 0),this.appointmentService.departmentSearch.set(""),this.appointmentService.selectedDepartment.set(void 0),this.appointmentService.doctorSearch.set(""),this.appointmentService.selectedDoctor.set(void 0),this.appointmentService.notes.set(null)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["lib-schedule"]],decls:30,vars:12,consts:[["optionTemplate",""],[1,"p-2","gap-3","grid"],["content","Schedule New Appointment","styleText","Title_2","colorText","text-gray-800"],[1,"border-b","border-gray-200"],[1,"gap-1","grid"],["label","Patient Name",3,"inputValueChange","pickedChange","inputValue","picked","options","isLoading","displayWith"],["content","2. Doctor & Department","styleText","Medium_1","colorText","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["label","Department/Specialty",3,"pickedChange","picked","options","displayWith"],["label","Doctor/Provider",3,"pickedChange","picked","options","displayWith"],["content","3. Appointment Details","styleText","Medium_1","colorText","text-gray-700"],[1,"md:col-span-2"],["for","reason-for-visit",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["content","Reason for Visit","styleText","Small_1","colorText","text-gray-700"],["id","reason-for-visit","rows","3","placeholder","Briefly describe the reason for the appointment",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"input"],["href","#",1,"text-blue-600","hover:underline"]],template:function(i,o){if(1&i){const l=e.RV6();e.j41(0,"div",1)(1,"lib-text",2),e.EFF(2,"Schedule New Appointment "),e.k0s(),e.j41(3,"div",3)(4,"div",4)(5,"lib-input-selectable",5),e.mxI("inputValueChange",function(r){return a.eBV(l),e.DH7(o.appointmentService.patientName,r)||(o.appointmentService.patientName=r),a.Njj(r)})("pickedChange",function(r){return a.eBV(l),e.DH7(o.appointmentService.selectedPatient,r)||(o.appointmentService.selectedPatient=r),a.Njj(r)}),e.DNE(6,qt,2,2,"ng-template",null,0,e.C5r),e.k0s(),e.nVh(8,te,4,0,"lib-text"),e.k0s()(),e.j41(9,"div",3)(10,"lib-text",6),e.EFF(11,"2. Doctor & Department "),e.k0s(),e.j41(12,"div",7)(13,"div")(14,"lib-input-selectable",8),e.mxI("pickedChange",function(r){return a.eBV(l),e.DH7(o.appointmentService.selectedDepartment,r)||(o.appointmentService.selectedDepartment=r),a.Njj(r)}),e.DNE(15,ee,2,1,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(17,"div")(18,"lib-input-selectable",9),e.mxI("pickedChange",function(r){return a.eBV(l),e.DH7(o.appointmentService.selectedDoctor,r)||(o.appointmentService.selectedDoctor=r),a.Njj(r)}),e.DNE(19,ie,2,1,"ng-template",null,0,e.C5r),e.k0s()()()(),e.j41(21,"div",3)(22,"lib-text",10),e.EFF(23,"3. Appointment Details "),e.k0s(),e.j41(24,"div",7)(25,"div",11)(26,"label",12)(27,"lib-text",13),e.EFF(28,"Notes"),e.k0s()(),e.j41(29,"textarea",14),e.bIt("input",function(r){return a.eBV(l),a.Njj(o.appointmentService.setNotes(r))}),e.k0s()()()()()}2&i&&(e.R7$(5),e.R50("inputValue",o.appointmentService.patientName)("picked",o.appointmentService.selectedPatient),e.Y8G("options",o.appointmentService.persons())("isLoading",o.appointmentService.loading())("displayWith",o.appointmentService.displayPerson),e.R7$(3),e.vxM(o.appointmentService.permissionDirective.hasPermission(o.appointmentService.permissionAppointmentCreateCode)?8:-1),e.R7$(6),e.R50("picked",o.appointmentService.selectedDepartment),e.Y8G("options",o.appointmentService.departments())("displayWith",o.appointmentService.displayDepartment),e.R7$(4),e.R50("picked",o.appointmentService.selectedDoctor),e.Y8G("options",o.appointmentService.staff())("displayWith",o.appointmentService.displayDoctor))},dependencies:[_.MD,m.l,m.N,Jt],styles:["[_ngcontent-%COMP%]:root{--mat-dialog-container-color: orange;--mat-dialog-subhead-color: red}"]})}return n})();function oe(n,s){if(1&n){const t=e.RV6();e.j41(0,"lib-button",4),e.bIt("event",function(){a.eBV(t);const o=e.XpG(),l=e.sdS(6);return a.Njj(o.addAppointment(l))}),e.k0s()}}function ae(n,s){1&n&&e.nrm(0,"lib-schedule")}let se=(()=>{class n{dialogService=(0,a.WQX)(Ft);appointmentService=(0,a.WQX)(R);addAppointment(t){this.dialogService.openDialog({templateRef:t,showOKBtn:!0,showCancelBtn:!0},{disableClose:!0}).afterClosed().subscribe(l=>{l?this.appointmentService.postAppointment().subscribe():console.log("User clicked Cancel")})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["lib-appointment"]],features:[e.Jv_([R,st.D])],decls:7,vars:1,consts:[["appointment",""],["styleText","Title_3","ariaDesc","Appointment section"],[1,"grid","gap-3","w-full","2xs:grid-cols-2","sm:grid-cols-2"],["text","Add",1,"justify-self-end"],["text","Add",1,"justify-self-end",3,"event"]],template:function(i,o){1&i&&(e.j41(0,"lib-text",1),e.EFF(1,"Appointment"),e.k0s(),e.j41(2,"section",2),e.nrm(3,"div"),e.nVh(4,oe,1,0,"lib-button",3),e.k0s(),e.DNE(5,ae,1,0,"ng-template",null,0,e.C5r)),2&i&&(e.R7$(4),e.vxM(o.appointmentService.permissionDirective.hasPermission(o.appointmentService.permissionAppointmentCreateCode)?4:-1))},dependencies:[_.MD,m.l,m.N,B,ne],encapsulation:2})}return n})()}}]);